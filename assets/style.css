/* ===== Cappuccino Glass â€” v2 ===== */
:root{
  --bg:#f5ede3;
  --bg-end:#efe2d4;
  --panel:rgba(255,248,239,.55);
  --panel-solid:#fff8ef;
  --panel-2:#f0dfca;
  --text:#3b2416;
  --muted:#7a5a45;
  --line:rgba(132,92,63,.18);
  --accent:#a96d3a;
  --glass:rgba(255,252,247,.42);
  --glass-border:rgba(255,255,255,.45);
  --glass-shadow:0 8px 32px rgba(70,35,14,.12);
  --radius:22px;
  --radius-sm:14px;
}

/* ===== Reset ===== */
*{box-sizing:border-box;margin:0;padding:0}
html,body{min-height:100%}
html{background:transparent}
body{
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  color:var(--text);
  background:transparent;
  position:relative;
  isolation:isolate;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
body::before{
  content:"";
  position:fixed;inset:0;z-index:-1;
  pointer-events:none;
  background:
    radial-gradient(ellipse 1200px 700px at 35% 0%, rgba(255,255,255,.55), transparent 60%),
    linear-gradient(180deg, var(--bg), var(--bg-end));
  background-repeat:no-repeat;
  background-size:cover,100% 100%;
}

.wrap{max-width:1120px;margin:0 auto;padding:0 20px}
.main{padding:32px 0 40px;min-height:calc(100vh - 160px);display:flex;flex-direction:column;justify-content:center}
code{background:rgba(0,0,0,.04);padding:2px 6px;border-radius:8px;border:1px solid rgba(0,0,0,.06)}
.muted{color:var(--muted);margin:0;text-shadow:0 1px 0 rgba(255,248,240,.28)}

/* ===== Topbar ===== */
.topbar{
  position:sticky;top:0;z-index:50;
  backdrop-filter:saturate(180%) blur(18px);
  -webkit-backdrop-filter:saturate(180%) blur(18px);
  background:rgba(255,248,239,.72);
  border-bottom:1px solid rgba(0,0,0,.06);
}
.topbar__inner{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 0;gap:14px;
}
.topbar__center{
  flex:1;display:flex;justify-content:center;
}
.topbar__title{
  font-weight:800;font-size:15px;letter-spacing:.01em;
  color:var(--muted);opacity:.85;
}

/* ===== Brand ===== */
.brand{display:flex;align-items:center;gap:12px;min-width:220px}
.brand__avatar{
  width:42px;height:42px;border-radius:var(--radius-sm);
  display:grid;place-items:center;
  background:rgba(169,109,58,.18);
  border:1px solid rgba(255,255,255,.5);
  font-weight:900;font-size:14px;
  color:var(--accent);
  text-decoration:none;
  transition:background .2s;
}
.brand__avatar--link{cursor:pointer}
.brand__avatar--link:hover{background:rgba(169,109,58,.28)}
.brand__name{font-weight:800;font-size:15px}
.brand__role{font-size:13px;color:var(--muted)}

/* ===== Buttons ===== */
.menuStack{display:flex;flex-direction:column;align-items:flex-end;gap:8px;min-width:160px}
.menuWrap{position:relative;z-index:1}
.menuWrap:focus-within{z-index:120}

.btn{
  display:inline-flex;align-items:center;justify-content:center;
  padding:9px 14px;
  border-radius:var(--radius-sm);
  border:1px solid var(--glass-border);
  background:rgba(255,252,247,.65);
  backdrop-filter:blur(8px);
  -webkit-backdrop-filter:blur(8px);
  font:inherit;font-weight:700;font-size:13px;
  color:var(--text);cursor:pointer;
  box-shadow:0 2px 8px rgba(70,35,14,.06);
  transition:background .2s,box-shadow .2s;
}
.btn:hover{background:rgba(255,252,247,.85);box-shadow:0 4px 14px rgba(70,35,14,.1)}
.btn--subtle{padding:6px 12px;font-size:12px;opacity:.88}
.btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}

/* ===== Menus ===== */
.menu[hidden]{display:none}
.menu{
  position:absolute;top:calc(100% + 8px);right:0;
  min-width:220px;padding:8px;
  border-radius:16px;
  border:1px solid var(--glass-border);
  background:rgba(255,252,247,.82);
  backdrop-filter:saturate(140%) blur(20px);
  -webkit-backdrop-filter:saturate(140%) blur(20px);
  box-shadow:var(--glass-shadow);
  z-index:130;
}
.menu__item{
  width:100%;
  display:flex;justify-content:space-between;align-items:center;gap:10px;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid transparent;
  background:transparent;
  cursor:pointer;font:inherit;font-weight:700;font-size:14px;
  color:var(--text);text-decoration:none;
  transition:background .15s;
}
.menu__item:hover{background:rgba(0,0,0,.04);border-color:rgba(0,0,0,.04)}
.menu__item:focus-visible{outline:2px solid var(--accent);outline-offset:-2px}
.menu__meta{font-weight:600;color:var(--muted);font-size:12px}

/* ===== Tiles Grid ===== */
.tiles{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:18px;
  max-width:820px;
  margin:0 auto;
}

.tile{
  position:relative;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  gap:10px;
  padding:38px 20px 32px;
  border-radius:var(--radius);
  border:1px solid var(--glass-border);
  background:var(--glass);
  backdrop-filter:saturate(120%) blur(16px);
  -webkit-backdrop-filter:saturate(120%) blur(16px);
  box-shadow:var(--glass-shadow);
  text-decoration:none;color:var(--text);
  transition:transform .35s cubic-bezier(.22,1,.36,1),
             box-shadow .35s cubic-bezier(.22,1,.36,1),
             background .3s;
  -webkit-user-select:none;user-select:none;
  cursor:default;
  will-change:transform;
  min-height:160px;
}
.tile__icon{font-size:36px;line-height:1;filter:grayscale(0);transition:filter .2s}
.tile__label{
  font-weight:800;font-size:15px;text-align:center;
  text-shadow:0 1px 2px rgba(255,248,240,.6);
}
.tile__count{
  font-size:12px;font-weight:700;color:var(--muted);
}
.tile__badge{
  position:absolute;top:12px;right:12px;
  font-size:10px;font-weight:700;letter-spacing:.03em;
  padding:3px 8px;
  border-radius:8px;
  background:rgba(169,109,58,.12);
  color:var(--accent);
  border:1px solid rgba(169,109,58,.18);
}

/* Active tile */
.tile--active{
  cursor:pointer;
  border-color:rgba(169,109,58,.25);
  background:rgba(255,252,247,.55);
  box-shadow:0 8px 32px rgba(70,35,14,.1), inset 0 1px 0 rgba(255,255,255,.5);
}
.tile--active:hover{
  background:rgba(255,252,247,.7);
  box-shadow:0 12px 40px rgba(70,35,14,.14), inset 0 1px 0 rgba(255,255,255,.6);
}
/* iOS press */
.tile--active:active,
.tile--active.pressing{
  transform:scale(.988);
  box-shadow:0 4px 18px rgba(70,35,14,.1), inset 0 1px 0 rgba(255,255,255,.4);
  background:rgba(255,248,239,.6);
}

/* Disabled tile */
.tile--disabled{
  opacity:.72;
  cursor:default;
  pointer-events:none;
}
.tile--disabled .tile__icon{filter:grayscale(.35);opacity:.7}

/* ===== Section / Cases page ===== */
.section{padding:10px 0}
.section__head{margin-bottom:20px}
.section__head h1,.section__head h2{margin:0 0 6px;font-size:clamp(22px,2.6vw,32px);letter-spacing:-.02em}

.back-link{
  display:inline-flex;align-items:center;gap:6px;
  font-weight:700;font-size:14px;
  color:var(--accent);text-decoration:none;
  margin-bottom:12px;padding:4px 0;
  transition:opacity .15s;
}
.back-link:hover{opacity:.7}

/* ===== Case cards (glass) ===== */
.cases{display:grid;gap:14px}

.case{
  border:1px solid var(--glass-border);
  border-radius:var(--radius);
  background:var(--glass);
  backdrop-filter:saturate(120%) blur(14px);
  -webkit-backdrop-filter:saturate(120%) blur(14px);
  box-shadow:var(--glass-shadow);
  overflow:hidden;
  transition:box-shadow .25s;
}
.case:hover{box-shadow:0 12px 40px rgba(70,35,14,.14)}

.case summary,
.case__item summary{cursor:pointer;list-style:none}
.case summary::-webkit-details-marker,
.case__item summary::-webkit-details-marker{display:none}

.case__summary{
  padding:16px 18px;
  display:flex;flex-direction:column;gap:4px;
}
.case__title{font-weight:800;font-size:15px}
.case__desc{color:var(--muted);font-size:13px}

.case__body{
  border-top:1px solid rgba(0,0,0,.06);
  padding:14px 16px 16px;
  display:grid;gap:10px;
}

.case__item{
  border:1px solid rgba(0,0,0,.06);
  border-radius:var(--radius-sm);
  background:rgba(255,255,255,.35);
}
.case__itemSummary{
  padding:10px 12px;
  display:flex;flex-wrap:wrap;gap:6px 10px;align-items:center;
}
.case__itemId{font-weight:800;color:var(--accent);font-size:13px}
.case__itemTitle{font-weight:700;font-size:14px}

.case__itemBody{
  border-top:1px solid rgba(0,0,0,.06);
  padding:10px 12px 14px;
  display:grid;gap:8px;
}
.case__line{line-height:1.5;font-size:14px}
.case__line b{font-weight:800}

.case__links{display:flex;flex-wrap:wrap;gap:8px;margin-top:4px}
.case__link{
  display:inline-flex;align-items:center;gap:6px;
  text-decoration:none;font-weight:700;font-size:13px;
  color:var(--accent);
  padding:6px 12px;
  border:1px solid rgba(169,109,58,.2);
  border-radius:10px;
  background:rgba(255,255,255,.45);
  transition:background .15s;
}
.case__link:hover{background:rgba(255,255,255,.7)}

/* ===== Callout ===== */
.callout[hidden]{display:none}
.callout{
  margin-bottom:16px;
  padding:12px 16px;
  border-radius:var(--radius-sm);
  border:1px dashed rgba(0,0,0,.14);
  background:rgba(255,255,255,.35);
  color:var(--muted);font-weight:700;font-size:14px;
}

/* ===== Footer ===== */
.footer{padding:18px 0 28px}
.footer__inner{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  border-top:1px solid rgba(0,0,0,.06);
  padding-top:14px;font-size:14px;
}

/* ===== Toast ===== */
.toast[hidden]{display:none}
.toast{
  position:fixed;right:18px;bottom:18px;
  padding:10px 16px;
  border-radius:var(--radius-sm);
  border:1px solid var(--glass-border);
  background:rgba(255,252,247,.82);
  backdrop-filter:blur(14px);
  -webkit-backdrop-filter:blur(14px);
  box-shadow:var(--glass-shadow);
  font-weight:700;font-size:14px;
  z-index:100;
}

/* ===== Responsive ===== */
@media(max-width:700px){
  .topbar__inner{flex-wrap:wrap;gap:10px}
  .topbar__center{display:none}
  .brand{min-width:0;flex:1}
  .menuStack{flex-direction:row;min-width:0;gap:6px}

  .tiles{
    grid-template-columns:repeat(2,1fr);
    gap:12px;
  }
  .tile{padding:28px 14px 24px;min-height:130px}
  .tile__icon{font-size:28px}
  .tile__label{font-size:13px}
}
@media(max-width:420px){
  .tiles{gap:10px}
  .tile{padding:22px 10px 20px;min-height:110px;border-radius:16px}
  .tile__badge{font-size:9px;padding:2px 6px;top:8px;right:8px}
}
